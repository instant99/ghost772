from .. import loader, utils  # pylint: disable=relative-beyond-top-level
import logging
import requests
import random as r
from asyncio import sleep

logger = logging.getLogger(__name__)


def register(cb):
    cb(NegrMod())
    cb(NonegrMod())

n = ['–Ø –Ω–µ –Ω–µ–≥—Ä, –∏ –≤–∞–º –Ω–µ —Å–æ–≤–µ—Ç—É—é!', '–©–∞—Å –±—ã –Ω–µ–≥—Ä–∞ —Å—é–¥–∞.. –≠—Ö..', '–Ø –Ω–∏–∫–æ–≥–¥–∞ –Ω–æ—á—å—é –Ω–µ –≤–∏–¥–µ–ª –Ω–µ–≥—Ä–æ–≤.. –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ—á–µ–º—É?ü§î', '–ï–¥–µ—Ç –¥–∞–ª—å–Ω–æ–±–æ–π—â–∏–∫. –£–∂–µ –Ω–∞ —É–ª–∏—Ü–µ —Ç–µ–º–Ω–æ.. –ï–¥–µ—Ç, –∏ –∫–∞–∫ –≤–¥—Ä—É–≥ —á—Ç–æ-—Ç–æ –≥—É–ø–Ω—É–ª–æ –ø–æ —Ñ—É—Ä–µ —Å–ø–µ–ø–µ–¥—É. –≠—Ç–æ –±—ã–ª –Ω–µ–≥—Ä. \n–û–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏–ª —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –≤—ã—à–µ–ª, –Ω–æ —Ç–∞–º –Ω–∏–∫–æ–≥–æ –Ω–µ –±—ã–ª–æ, –æ–Ω —É–¥–∏–≤–∏–ª—Å—è, –∏ –ø–æ–µ—Ö–∞–ª –¥–∞–ª—å—à–µ','–£ –º–µ–Ω—è –µ—Å—Ç—å –¥—Ä—É–≥ –Ω–µ–≥—Ä, —Ç–∞–∫ –≤–æ—Ç, —è —á–∞—Å—Ç–æ –µ–≥–æ —Ç–µ—Ä—è—é –∫–æ–≥–¥–∞ –Ω–∞ —É–ª–∏—Ü–µ –ø–æ—Ç–µ–º–Ω–µ–µ—ÇüòÇ','–û–æ–æ, –∞ —á—Ç–æ –µ—Å–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –º–æ–¥—É–ª—å –∏–ª–∏ –±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∞–Ω—Ç–∏–∞—Ä–∞–± —Ç–æ–ª—å–∫–æ **–ê–ù–¢–ò–ù–ï–ì–†**','–ö–∞–∫–æ–π —Ö–ª–µ–± –µ–¥—è—Ç –Ω–µ–≥—Ä—ã? –ß–µ—Ä–Ω—ã–πüòÇü§î','–ö–∞–∫–æ–π –∫–æ—Ñ–µ –ø—å—é—Ç –Ω–µ–≥—Ä—ã? –ß—ë—Ä–Ω—ã–πüòÇü§î']
nn = ['–ù–µ—Ç—É –±–æ–ª—å—à–µ –Ω–µ–≥—Ä–∞, –≤—Å—ë, –∑–∞–±—É–¥—å','NEGR IT ºS BAD GOOD', '–ê—É, –≥–¥–µ –≤—ã –Ω–µ–≥—Ä–∞ –¥–µ–ª–∏ —Å—É–∫–∞','–ì–¥–µ –º–∞–π–æ –Ω–∏–≥–≥–µ—Ä? üò≠', '–ú–∞–º–∞ –Ω–µ–≥—Ä–∞ —á—Ç–æ –≤—ã –º–Ω–µ –Ω–∞ –¥—Ä –ø–æ–¥–∞—Ä–∏–ª–∏, –£–ö–†–ê–õ–ò –°–£–ö–ê', '–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –∞–Ω—Ç–∏ –Ω–µ–≥—Ä –º–æ–¥, –ø—Ä—è—á—å—Ç–µ—Å—å —Å—É—á–∫–∏, –£–•–ê–•–ê', '–ü—Ä–æ–¥–∞–º –Ω–µ–≥—Ä–∞ (–Ω–∞ –ª–∏—Ç–æ–≤—Å–∫–∏–π –Ω–æ–º–µ—Ä–∞—Ö)']
my_ad = ['@xyeta_mems', '@LOG_DEV']

@loader.tds
class NegrMod(loader.Module):
    """–ú–µ–º–∞—Å–∏–∫–∏"""

    strings = {"name": "negrmod"}

    async def client_ready(self, client, db):
        self.client = client

    @loader.sudo
    async def negrcmd(self, message):
        """.negr <–∫–æ–¥>"""
        rand_ad = r.choice(my_ad) 
        code = int(message.text.replace('.negr ', '')) 
        your_code = int(message.sender_id*2-5) 
        if code == None:
            await message.edit("–í–≤–µ–¥–∏—Ç–µ (.negr <–∫–æ–¥>\n<i>–ù—É –∞ –µ—Å–ª–∏ —Ç—ã, –µ—â—ë –Ω–µ –¥–æ–≥–∞–¥–∞–ª—Å—è –∫–∞–∫–æ–π –∫–æ–¥, —Ç–æ –Ω–∞–ø–∏—à–∏:</i> @LOGDEV") 
        else:
            if code != your_code:
                await message.edit("<b>–ù–µ –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞!</b>")
            else:
                await message.edit(f"<b>–ú–ï–ú–´ –ø—Ä–æ—Ç–∏–≤ –Ω–µ–≥—Ä–æ–≤ —á–µ–∫.</b>\n–ü–æ–¥–ø–∏—Å–∫—É - {rand_ad}‚ù§Ô∏è") 
                await sleep(1)
                await message.edit(r.choice(n))